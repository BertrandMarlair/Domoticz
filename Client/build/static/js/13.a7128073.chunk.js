(this.webpackJsonpdomoticz_client=this.webpackJsonpdomoticz_client||[]).push([[13],{544:function(e,t,n){"use strict";var i=n(1),c=n(5),a=(n(0),n(25)),l=n.n(a),o=n(62),r=n.n(o),s=n(123);t.a=r()(s.a)((function(e){var t,n=Object.assign({},e),a=n.classes,o=n.children,r=n.center,s=n.className,d=n.color,u=n.bold,b=n.normal,j=n.light,m=n.style,p=n.small,O=l()((t={},Object(c.a)(t,a.defaultFontStyle,!0),Object(c.a)(t,a.title,!0),Object(c.a)(t,s,!0),Object(c.a)(t,a[d],d),Object(c.a)(t,a.center,r),Object(c.a)(t,a.bold,u),Object(c.a)(t,a.normal,b),Object(c.a)(t,a.light,j),Object(c.a)(t,a.smaller,p),t));return Object(i.jsx)("div",{className:O,style:m,children:o})}))},545:function(e,t,n){"use strict";var i=n(1),c=n(4),a=n(81),l=(n(0),n(614)),o=n(618),r=n(505),s=function(e){return{root:{"& fieldset":{borderRadius:6},"& input + fieldset":{borderColor:"hsl(0,0%,80%)",borderWidth:1},"& input:hover + fieldset":{border:"1px solid ".concat(e.palette.grey[500]," !important")},"& input:focus + fieldset":{border:"2px solid ".concat(e.palette.link.main," !important")}},input:{padding:9.5,borderRadius:10},endAdornment:{minWidth:24,display:"flex"},marginRight:{marginRight:40}}};t.a=Object(r.a)(s)((function(e){var t=e.classes,n=e.onChange,r=e.value,s=e.endAdornment,d=e.placeholder,u=e.disabled,b=e.helperText,j=e.autoComplete,m=e.type,p=e.error,O=e.marginRight,h=e.minWidth,x=e.multiline,f=e.rows,g=e.autoFocus,v=Object(a.a)(e,["classes","onChange","value","endAdornment","placeholder","disabled","helperText","autoComplete","type","error","marginRight","minWidth","multiline","rows","autoFocus"]);return Object(i.jsx)(l.a,{className:t.root,fullWidth:!0,variant:"outlined",style:{marginRight:O?40:0,minWidth:h?230:0},children:Object(i.jsx)(o.a,{variant:"outlined",inputProps:Object(c.a)({style:{padding:"9.5px 15px",fontWeight:300,minHeight:35}},v),InputProps:{endAdornment:s?Object(i.jsx)("div",{className:t.endAdornment,children:s}):null},value:r,onChange:n,placeholder:d,disabled:u,autoComplete:j,type:m,helperText:b,error:p,multiline:x,rows:f,autoFocus:g})})}))},554:function(e,t,n){"use strict";var i=n(1),c=n(151),a=n(5),l=n(0),o=n(505),r=n(63),s=n(536),d=n(558),u=n(25),b=n.n(u),j=function(e){return{paper:{boxShadow:e.palette.boxShadow.main,background:e.palette.background.paper,padding:0,outline:"none",borderRadius:8,height:"100%",display:"flex"},iconButton:{position:"absolute",zIndex:"4",right:"5px",top:"5px"},maxWidth:{maxWidth:0},noScroll:{overflow:"initial !important"}}},m=n(568),p=n(61);t.a=Object(o.a)(j)((function(e){var t,n=e.classes,o=e.className,u=e.children,j=e.open,O=e.onClose,h=e.fullWidth,x=e.maxWidth,f=b()((t={},Object(a.a)(t,o,o),Object(a.a)(t,n[x],x),t)),g=Object(r.a)(),v=Object(s.a)(g.breakpoints.down("xs"));return Object(l.useEffect)((function(){setTimeout((function(){var e,t=document.querySelectorAll('div[tabindex*="-1"]'),n=Object(c.a)(t);try{for(n.s();!(e=n.n()).done;){e.value.removeAttribute("tabindex")}}catch(i){n.e(i)}finally{n.f()}}),100)}),[j]),Object(i.jsx)(m.a,{open:j,onClose:O,fullScreen:v||h,className:f,maxWidth:x,disableBackdropClick:!0,children:Object(i.jsxs)("div",{className:n.paper,children:[O&&Object(i.jsx)(d.a,{className:n.iconButton,"aria-label":"Delete",onClick:O,children:Object(i.jsx)(p.a,{size:16,color:g.palette.text.contrasted,children:"Close"})}),u]})})}))},638:function(e,t,n){"use strict";n.r(t);var i=n(41),c=n(1),a=n(4),l=n(65),o=n(23),r=n(0),s=n(552),d=n(615),u=n(16),b=n(279),j=n(5),m=n(7),p=function(){var e;return e={root:{maxWidth:m.F,margin:"auto",minHeight:"90vh",padding:10}},Object(j.a)(e,"@media (max-width: ".concat(m.F,"px)"),{container:{width:"100%",margin:"auto"}}),Object(j.a)(e,"gridItem",{padding:20}),Object(j.a)(e,"card",{maxWidth:400,minWidth:245,padding:30,flexGrow:1,display:"flex",flexDirection:"column",margin:"10px auto",height:"100%"}),Object(j.a)(e,"description",{marginTop:20,marginBottom:50,flexGrow:1}),Object(j.a)(e,"wrapper",{padding:20}),Object(j.a)(e,"title",{marginBottom:20}),Object(j.a)(e,"label",{margin:"5px 0"}),Object(j.a)(e,"input",{marginTop:20,marginBottom:10,width:"100%"}),Object(j.a)(e,"form",{width:"100%",padding:30,paddingTop:0}),Object(j.a)(e,"formFooter",{marginTop:30}),e},O=n(42),h=n.n(O),x=n(54),f=n(76),g=n(67),v=n(122),k=n(187),B=n(544),N=n(75),y=n(186),C=n(554),S=n(545),W=n(82);function w(){var e=Object(i.a)(["\n    mutation deleteBlock($_id: ID!) {\n        deleteBlock(_id: $_id) {\n            _id\n            title\n        }\n    }\n"]);return w=function(){return e},e}function _(){var e=Object(i.a)(["\n    mutation editBlock($block: editBlockInput!) {\n        editBlock(block: $block) {\n            _id\n            title\n            description\n        }\n    }\n"]);return _=function(){return e},e}function T(){var e=Object(i.a)(["\n    query getAllBlocks {\n        getAllBlocks {\n            _id\n            title\n            description\n        }\n    }\n"]);return T=function(){return e},e}t.default=Object(u.a)(p)((function(e){var t=e.classes,n=Object(r.useState)(!1),i=Object(o.a)(n,2),u=i[0],j=i[1],m=Object(r.useState)([]),p=Object(o.a)(m,2),O=p[0],h=p[1],w=Object(r.useState)(!1),_=Object(o.a)(w,2),T=_[0],I=_[1],R=Object(r.useState)(""),M=Object(o.a)(R,2),D=M[0],E=M[1],$=Object(r.useState)(""),q=Object(o.a)($,2),G=q[0],H=q[1],J=Object(r.useState)(""),P=Object(o.a)(J,2),V=P[0],K=P[1],L=Object(r.useState)(""),Q=Object(o.a)(L,2),U=Q[0],X=Q[1],Y=Object(r.useState)(null),Z=Object(o.a)(Y,2),ee=Z[0],te=Z[1],ne=Object(r.useState)(!1),ie=Object(o.a)(ne,2),ce=ie[0],ae=ie[1],le=Object(x.c)(A),oe=le.data,re=le.loading,se=le.error,de=Object(x.b)(F),ue=Object(o.a)(de,2),be=ue[0],je=ue[1],me=je.data,pe=je.error,Oe=je.loading,he=Object(x.b)(z),xe=Object(o.a)(he,2),fe=xe[0],ge=xe[1],ve=Object(b.a)().t;Object(r.useEffect)((function(){re||!1!==u||j(!0)}),[re,u]),Object(r.useEffect)((function(){(null===oe||void 0===oe?void 0:oe.getAllBlocks)&&h(oe.getAllBlocks)}),[oe]),Object(r.useEffect)((function(){var e;(null===me||void 0===me||null===(e=me.editBlock)||void 0===e?void 0:e._id)&&(ke(),Object(f.a)(ve("contexttest.editBlock.success.editBlock"),{variant:"success"})),pe&&te("contexttest.editBlock.errors.failEditBlock")}),[me,history,ve]),Object(r.useEffect)((function(){var e,t;if(null===ge||void 0===ge||null===(e=ge.data)||void 0===e||null===(t=e.deleteBlock)||void 0===t?void 0:t._id){Object(f.a)("Success",{variant:"success"});var n=ge.data.deleteBlock,i=O.findIndex((function(e){return e._id===n._id}));h([].concat(Object(l.a)(O.slice(0,i)),Object(l.a)(O.slice(i+1)))),Be()}}),[ge,history,ve]);var ke=function(){E(""),H(""),K(""),I(!1)},Be=function(){E(""),H(""),K(""),ae(!1)};return Object(c.jsxs)("div",{className:t.root,children:[Object(c.jsxs)(s.a,{container:!0,className:t.container,children:[Object(c.jsx)(v.a,{errorMessage:se}),O.map((function(e){return Object(c.jsx)(s.a,{item:!0,lg:4,md:6,xs:12,className:t.gridItem,children:Object(c.jsxs)(k.a,{className:t.card,children:[Object(c.jsx)(B.a,{children:e.title}),Object(c.jsx)(N.a,{noWrap:!0,className:t.description,children:e.description}),Object(c.jsxs)(d.a,{children:[Object(c.jsx)(y.a,{noMargin:!0,size:"sm",loading:re,children:ve("contexttest.block.see")}),Object(c.jsx)(y.a,{noMargin:!0,size:"sm",loading:re,onClick:function(){return E((t=e)._id),H(t.title),K(t.description),void I(!0);var t},children:ve("contexttest.block.edit")}),Object(c.jsx)(y.a,{noMargin:!0,size:"sm",loading:re,onClick:function(){return E((t=e)._id),H(t.title),K(t.description),void ae(!0);var t},children:ve("contexttest.block.delete")})]})]})},"block/".concat(e._id))}))]}),re&&Object(c.jsx)(g.a,{absolute:!0}),Object(c.jsx)(C.a,{className:t.modal,open:T,onClose:ke,children:Object(c.jsx)(r.Fragment,{children:Object(c.jsxs)("div",{className:t.wrapper,children:[Object(c.jsx)("div",{className:t.title,children:Object(c.jsx)(B.a,{normal:!0,centered:!0,children:ve("contexttest.editBlock.title")})}),Object(c.jsxs)("form",{className:t.form,onSubmit:function(e){return function(e){e.preventDefault();var t=!0;if(G.length<2?(X("contexttest.editBlock.errors.invalidTitle"),t=!1):X(""),te(null),t){var n={id:D,title:G,description:V};be({variables:{block:Object(a.a)({},n)}})}}(e)},children:[Object(c.jsxs)("div",{className:t.inputTitle,children:[Object(c.jsx)(W.a,{color:"label",className:t.label,children:ve("contexttest.editBlock.titleInputTitle")}),Object(c.jsx)(S.a,{autofocus:!0,value:G,onChange:function(e){return H(e.target.value)},placeholder:G,type:"text",helperText:ve(U),error:!!U})]}),Object(c.jsxs)("div",{className:t.inputDescription,children:[Object(c.jsx)(W.a,{bold:!0,className:t.label,children:ve("contexttest.editBlock.descriptionInputTitle")}),Object(c.jsx)(S.a,{value:V,onChange:function(e){return K(e.target.value)},placeholder:V,autoComplete:"description",type:"text"})]}),Object(c.jsx)(v.a,{errorMessage:se||ve(ee)}),Object(c.jsx)("div",{className:t.formFooter,children:Object(c.jsx)(y.a,{noMargin:!0,fullWidth:!0,size:"lg",loading:Oe,type:"submit",children:ve("contexttest.editBlock.submit")})})]})]})})}),Object(c.jsx)(C.a,{className:t.modal,open:ce,onClose:Be,children:Object(c.jsx)(r.Fragment,{children:Object(c.jsxs)("div",{className:t.wrapper,children:[Object(c.jsx)("div",{className:t.title,children:Object(c.jsx)(B.a,{normal:!0,centered:!0,children:ve("contexttest.deleteBlock.title")})}),Object(c.jsx)("div",{className:t.description,children:Object(c.jsx)(N.a,{noWrap:!0,centered:!0,children:"Voulez-vous vraiment supprimer ce block ?"})}),Object(c.jsx)("form",{className:t.form,onSubmit:function(e){return function(e){e.preventDefault(),""!==D&&(console.log("----- page delete block "),console.log(D),fe({variables:{_id:D}}))}(e)},children:Object(c.jsx)("div",{className:t.formFooter,children:Object(c.jsx)(y.a,{noMargin:!0,fullWidth:!0,size:"lg",type:"submit",color:"error",loading:null===ge||void 0===ge?void 0:ge.loading,children:"Supprimer le block"})})})]})})})]})}));var A=h()(T()),F=h()(_()),z=h()(w())}}]);