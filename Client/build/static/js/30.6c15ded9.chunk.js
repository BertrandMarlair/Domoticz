(this.webpackJsonpdomoticz_client=this.webpackJsonpdomoticz_client||[]).push([[30],{545:function(e,t,n){"use strict";var a=n(1),i=n(5),c=(n(0),n(26)),o=n.n(c),r=n(62),l=n.n(r),s=n(123);t.a=l()(s.a)((function(e){var t,n=Object.assign({},e),c=n.classes,r=n.children,l=n.center,s=n.className,d=n.color,m=n.bold,b=n.normal,u=n.light,h=n.style,j=n.small,g=o()((t={},Object(i.a)(t,c.defaultFontStyle,!0),Object(i.a)(t,c.title,!0),Object(i.a)(t,s,!0),Object(i.a)(t,c[d],d),Object(i.a)(t,c.center,l),Object(i.a)(t,c.bold,m),Object(i.a)(t,c.normal,b),Object(i.a)(t,c.light,u),Object(i.a)(t,c.smaller,j),t));return Object(a.jsx)("div",{className:g,style:h,children:r})}))},546:function(e,t,n){"use strict";var a=n(1),i=n(4),c=n(82),o=(n(0),n(627)),r=n(637),l=n(506),s=function(e){return{root:{"& fieldset":{borderRadius:6},"& input + fieldset":{borderColor:"hsl(0,0%,80%)",borderWidth:1},"& input:hover + fieldset":{border:"1px solid ".concat(e.palette.grey[500]," !important")},"& input:focus + fieldset":{border:"2px solid ".concat(e.palette.link.main," !important")}},input:{padding:9.5,borderRadius:10},endAdornment:{minWidth:24,display:"flex"},marginRight:{marginRight:40}}};t.a=Object(l.a)(s)((function(e){var t=e.classes,n=e.onChange,l=e.value,s=e.endAdornment,d=e.placeholder,m=e.disabled,b=e.helperText,u=e.autoComplete,h=e.type,j=e.error,g=e.marginRight,p=e.minWidth,O=e.multiline,x=e.rows,f=e.autoFocus,v=Object(c.a)(e,["classes","onChange","value","endAdornment","placeholder","disabled","helperText","autoComplete","type","error","marginRight","minWidth","multiline","rows","autoFocus"]);return Object(a.jsx)(o.a,{className:t.root,fullWidth:!0,variant:"outlined",style:{marginRight:g?40:0,minWidth:p?230:0},children:Object(a.jsx)(r.a,{variant:"outlined",inputProps:Object(i.a)({style:{padding:"9.5px 15px",fontWeight:300,minHeight:35}},v),InputProps:{endAdornment:s?Object(a.jsx)("div",{className:t.endAdornment,children:s}):null},value:l,onChange:n,placeholder:d,disabled:m,autoComplete:u,type:h,helperText:b,error:j,multiline:O,rows:x,autoFocus:f})})}))},652:function(e,t,n){"use strict";n.r(t);var a=n(41),i=n(1),c=n(4),o=n(23),r=n(0),l=n(42),s=n.n(l),d=n(5),m=n(7),b=650,u=function(e){var t;return{root:{margin:"auto",maxWidth:1200,minHeight:"100%",display:"flex",alignItems:"center",width:"100%"},card:Object(c.a)(Object(c.a)({width:"100%",minHeight:600,maxHeight:b,overflow:"hidden"},m.m),{},Object(d.a)({padding:0},"@media (max-width: ".concat(m.z,"px)"),{padding:10,margin:0,flexDirection:"column",minHeight:"unset",maxHeight:"unset"})),cardItemLeft:Object(d.a)({width:"55%",display:"flex",height:"-webkit-fill-available"},"@media (max-width: ".concat(m.z,"px)"),{width:"100%",height:"auto"}),cardItemRight:Object(d.a)({width:"45%",position:"relative",display:"flex",height:"-webkit-fill-available",borderBottom:"".concat(b,"px solid ").concat(e.palette.background.constant),borderLeft:"85px solid transparent"},"@media (max-width: ".concat(m.z,"px)"),{width:"100%",height:"auto",borderBottom:"unset",borderLeft:"unset",backgroundColor:e.palette.background.constant,borderRadius:8}),cardContent:Object(d.a)({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",margin:"auto",maxWidth:400,height:b},"@media (max-width: ".concat(m.z,"px)"),{height:"auto",marginTop:30,marginBottom:30}),cardContentPass:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",margin:"auto",height:b,padding:10},Object(d.a)(t,"@media (max-width: ".concat(m.z,"px)"),{height:"auto",marginTop:30,marginBottom:30,position:"relative"}),Object(d.a)(t,"position","absolute"),t),title:{marginBottom:20},description:{marginBottom:50},label:{margin:"5px 0"},inputName:{marginTop:20,marginBottom:30},inputPassword:{marginTop:20,marginBottom:30},forgotButton:{flexDirection:"row-reverse",justifyContent:"end"},forgotContainer:{margin:"10px 0"},form:{width:"100%"},formFooter:Object(c.a)(Object(c.a)({marginTop:30},m.m),{},Object(d.a)({},"@media (max-width: ".concat(m.z,"px)"),{flexDirection:"column"})),imageContainer:{textAlign:"center",margin:10},image:{width:60},formMfa:{padding:20},headerMfa:{textAlign:"center"},checkbox:{display:"flex",alignItems:"center"}}},h=n(24),j=n(52),g=n(280),p=n(506),O=n(54),x=n(187),f=n(121),v=n(546),w=n(76),y=n(186),N=n(75),C=n(545),T=n(81),k=n(16),I=n(90),A=n(15);function B(){var e=Object(a.a)(["\n    mutation login($name: String!, $password: String!) {\n        login(name: $name, password: $password) {\n            accessToken\n            refreshToken\n            identity {\n                _id\n                name\n                permission\n                createdAt\n                updatedAt\n            }\n        }\n    }\n"]);return B=function(){return e},e}t.default=Object(p.a)(u)((function(e){var t=e.classes,n=e.history,a=Object(r.useState)(""),l=Object(o.a)(a,2),s=l[0],d=l[1],m=Object(r.useState)(null),b=Object(o.a)(m,2),u=b[0],p=b[1],B=Object(r.useState)(""),R=Object(o.a)(B,2),z=R[0],S=R[1],D=Object(r.useState)(null),L=Object(o.a)(D,2),P=L[0],F=L[1],H=Object(r.useState)(null),M=Object(o.a)(H,2),$=M[0],E=M[1],_=Object(g.a)().t,J=Object(h.b)(),q=Object(r.useCallback)((function(e){J({type:"CONNECTED",payload:e})}),[J]),G=Object(O.b)(W),K=Object(o.a)(G,2),Q=K[0],U=K[1],V=U.data,X=U.error,Y=U.loading;Object(r.useEffect)((function(){var e;if(null===V||void 0===V||null===(e=V.login)||void 0===e?void 0:e.accessToken){var t=Object(I.decode)(V.login.accessToken),n=Object(I.decode)(V.login.refreshToken);Object(w.a)(_("connect.login.success.connect"),{variant:"success"}),Object(k.c)(A.b,"Bearer ".concat(V.login.accessToken)),Object(k.c)(A.a,t.exp),Object(k.c)(A.l,"Bearer ".concat(V.login.refreshToken)),Object(k.c)(A.k,n.exp),q(V.login)}X&&E("connect.login.errors.failLogin")}),[V,n,_,q,X]);return Object(i.jsx)("div",{className:t.root,children:Object(i.jsxs)(x.a,{className:t.card,children:[Object(i.jsx)("div",{className:t.cardItemLeft,children:Object(i.jsxs)("div",{className:t.cardContent,children:[Object(i.jsx)("div",{className:t.title,children:Object(i.jsx)(C.a,{normal:!0,centered:!0,children:_("connect.login.title")})}),Object(i.jsx)("div",{className:t.description,children:Object(i.jsx)(N.a,{centered:!0,noWrap:!0,children:_("connect.login.description")})}),Object(i.jsxs)("form",{className:t.form,onSubmit:function(e){return function(e){e.preventDefault(),E(null);var t=!0;if(s.length<2?(p("connect.signin.errors.invalidName"),t=!1):p(""),z.length<5?(F("connect.signin.errors.invalidPassword"),t=!1):F(""),t){var n={name:s,password:z};Q({variables:Object(c.a)({},n)})}}(e)},children:[Object(i.jsxs)("div",{className:t.inputName,children:[Object(i.jsx)(T.a,{color:"label",className:t.label,children:_("connect.login.nameInputTitle")}),Object(i.jsx)(v.a,{value:s,onChange:function(e){return d(e.target.value)},placeholder:_("connect.login.nameInputLabel"),autoComplete:"name",type:"text",helperText:_(u),error:!!u})]}),Object(i.jsxs)("div",{className:t.inputPassword,children:[Object(i.jsx)(T.a,{color:"label",className:t.label,children:_("connect.login.passwordInputTitle")}),Object(i.jsx)(v.a,{value:z,onChange:function(e){return S(e.target.value)},placeholder:_("connect.login.passwordInputLabel"),autoComplete:"current-password",type:"password",helperText:_(P),error:!!P}),Object(i.jsx)(f.a,{errorMessage:X||_($)}),Object(i.jsx)("div",{className:t.formFooter,children:Object(i.jsx)(y.a,{noMargin:!0,size:"lg",loading:Y,type:"submit",children:_("connect.login.submit")})})]})]})]})}),Object(i.jsx)("div",{className:t.cardItemRight,children:Object(i.jsxs)("div",{className:t.cardContentPass,children:[Object(i.jsx)("div",{className:t.title,children:Object(i.jsx)(C.a,{normal:!0,smaller:!0,centered:!0,color:"white",children:_("connect.login.noAccountTitle")})}),Object(i.jsx)("div",{className:t.description,children:Object(i.jsx)(N.a,{noWrap:!0,centered:!0,color:"white",children:_("connect.login.noAccountDescription")})}),Object(i.jsx)(j.b,{to:"/connect/signin",children:Object(i.jsx)(y.a,{color:"white",children:_("connect.login.signup")})})]})})]})})}));var W=s()(B())}}]);